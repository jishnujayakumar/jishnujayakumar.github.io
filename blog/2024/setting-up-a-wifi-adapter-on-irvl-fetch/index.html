<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Setting Up a Wi-Fi Hotspot on Boot for Your Robot | Jishnu Jaykumar Padalunkal</title> <meta name="author" content="Jishnu Jaykumar Padalunkal"> <meta name="description" content="Robots operating in environments without reliable network connectivity often require a self-hosted Wi-Fi hotspot for seamless operation. This blog post will guide you through creating a Wi-Fi hotspot on boot using a Linux-based system, ensuring uninterrupted communication with your robot."> <meta name="keywords" content="jishnu jaykumar padalunkal, phd student, utdallas, nvidia, iit-kgp, iisc, iiit vadodara"> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="/blog/2024/setting-up-a-wifi-adapter-on-irvl-fetch/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js"></script> <script src="/assets/js/dark_mode.js"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Jishnu </span>Jaykumar Padalunkal</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About</a> </li> <li class="nav-item "> <a class="nav-link" href="/presentations">Presentations</a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/teaching">Teaching</a> </li> <li class="nav-item"> <a class="nav-link" href="https://drive.google.com/file/d/1VUsrI9BKeB4lmhxnfEi8CYO9jLzfR5vc" target="_blank">CV</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">Setting Up a Wi-Fi Hotspot on Boot for Your Robot</h1> <p class="post-meta">December 16, 2024</p> <p class="post-tags"> <a href="/blog/2024"> <i class="fas fa-calendar fa-sm"></i> 2024 </a>   ·   <a href="/blog/tag/robot"> <i class="fas fa-hashtag fa-sm"></i> robot</a>   <a href="/blog/tag/wifi"> <i class="fas fa-hashtag fa-sm"></i> wifi</a>   <a href="/blog/tag/hotspot"> <i class="fas fa-hashtag fa-sm"></i> hotspot</a>   <a href="/blog/tag/network"> <i class="fas fa-hashtag fa-sm"></i> network</a>   <a href="/blog/tag/system"> <i class="fas fa-hashtag fa-sm"></i> system</a>   <a href="/blog/tag/setup"> <i class="fas fa-hashtag fa-sm"></i> setup</a>     ·   <a href="/blog/category/research"> <i class="fas fa-tag fa-sm"></i> research</a>   <a href="/blog/category/robotics"> <i class="fas fa-tag fa-sm"></i> robotics</a>   <a href="/blog/category/phd-life"> <i class="fas fa-tag fa-sm"></i> phd-life</a>   <a href="/blog/category/sys-setup"> <i class="fas fa-tag fa-sm"></i> sys_setup</a>   </p> </header> <article class="post-content"> <div id="markdown-content"> <p><img src="/assets/blog/irvl-fetch-wifi-adapter-diy/alpha_adapter/robot-human-hololens.png" alt="robot-human-hololens" width="100%"></p> <center>At the <a href="https://labs.utdallas.edu/irvl/" target="_blank">Intelligent Robotics and Vision Lab</a>, I am trying to establish a connection between the <span style="font-weight: bold">HoloLens 2</span> device mounted on my head and the <span style="font-weight: bold">Fetch</span> robot.</center> <p><br></p> <hr> <h2 id="index">Index</h2> <ul> <li> <a href="#index">Index</a> <ul> <li><a href="#why-create-a-wi-fi-hotspot-on-boot">Why Create a Wi-Fi Hotspot on Boot?</a></li> <li><a href="#prerequisites">Prerequisites</a></li> <li><a href="#step-1-create-the-hotspot-script">Step 1: Create the Hotspot Script</a></li> <li><a href="#step-2-create-a-credentials-file">Step 2: Create a Credentials File</a></li> <li><a href="#step-3-create-a-systemd-service">Step 3: Create a Systemd Service</a></li> <li><a href="#step-4-verify-hotspot-on-boot">Step 4: Verify Hotspot on Boot</a></li> <li><a href="#step-5-optional--add-status-check-to-bashrc">Step 5: Optional – Add Status Check to ~/.bashrc</a></li> <li><a href="#troubleshooting">Troubleshooting</a></li> </ul> </li> </ul> <hr> <h3 id="why-create-a-wi-fi-hotspot-on-boot">Why Create a Wi-Fi Hotspot on Boot?</h3> <p>In robotics, self-hosted networks can be critical for:</p> <ul> <li>Connecting remote controllers or operator devices.</li> <li>Transmitting real-time data streams (e.g., images, depth, or control commands).</li> <li>Enabling peer-to-peer communication in isolated environments.</li> </ul> <p>Let’s configure a Wi-Fi hotspot to start automatically whenever your robot boots up. 📡🤖✨</p> <hr> <h3 id="prerequisites">Prerequisites</h3> <ul> <li>A Linux-based system (tested on Ubuntu). Our Fetch robot has Ubuntu 18.04 installed.</li> <li>NetworkManager installed (commonly pre-installed on Ubuntu).</li> <li>A compatible Wi-Fi adapter connected to the robot.</li> <li>Root access to the system.</li> </ul> <p>📋 Ensure these are set up before proceeding!</p> <video class="demo-video" width="100%" height="50%" controls=""> <source src="../../../assets/blog/irvl-fetch-wifi-adapter-diy/alpha_adapter/robot-with-alpha-adapter.mp4" type="video/mp4"></source> Your browser does not support the video tag. </video> <center> <a href="https://www.amazon.com/Network-AWUS036ACM-Long-Range-Wide-Coverage-High-Sensitivity/dp/B08BJS8FXD/ref=asc_df_B08BJS8FXD?mcid=bda890b6f4353c769755c6838472b8c9&amp;tag=hyprod-20&amp;linkCode=df0&amp;hvadid=693415510935&amp;hvpos=&amp;hvnetw=g&amp;hvrand=11530231208179162355&amp;hvpone=&amp;hvptwo=&amp;hvqmt=&amp;hvdev=c&amp;hvdvcmdl=&amp;hvlocint=&amp;hvlocphy=9026839&amp;hvtargid=pla-996386731604&amp;psc=1" target="_blank">Alpha Dual Antenna Wifi Adapter</a> connected on top of the head of our Fetch robot.</center> <p><br></p> <hr> <h3 id="step-1-create-the-hotspot-script">Step 1: Create the Hotspot Script</h3> <p>Let’s have a directory related to this setting:</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># try setting absolute path</span>
<span class="nb">export </span><span class="nv">WIFI_ADAP_ROOT_DIR</span><span class="o">=</span>/home/fetch/wifi-adapter-settings
<span class="nb">mkdir</span> <span class="nt">-p</span> <span class="nv">$WIFI_ADAP_ROOT_DIR</span>
<span class="nb">cd</span> <span class="nv">$WIFI_ADAP_ROOT_DIR</span>
</code></pre></div></div> <p>We’ll use a Bash script to configure and start the hotspot. Create the file <code class="language-plaintext highlighter-rouge">start_hotspot.sh</code>:</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>

<span class="c"># Disable the firewall</span>
ufw disable

<span class="nb">echo</span> <span class="s2">"Firewall stopped and disabled on system startup"</span>

<span class="c"># Wait for 2 seconds</span>
<span class="nb">sleep </span>2

<span class="c"># Read credentials and create hotspot</span>
<span class="nv">CREDS_FILE</span><span class="o">=</span><span class="nv">$WIFI_ADAP_ROOT_DIR</span>/hotspot_creds.cfg
<span class="nb">source</span> <span class="nv">$CREDS_FILE</span>

<span class="c"># Create the hotspot</span>
nmcli device wifi hotspot ifname alpha_wifi_adap ssid <span class="s2">"</span><span class="nv">$SSID</span><span class="s2">"</span> password <span class="s2">"</span><span class="nv">$PASSWORD</span><span class="s2">"</span> band a channel 149
</code></pre></div></div> <p>Explanation of the Script:</p> <ul> <li> <strong>Disable the firewall:</strong> Ensures no network traffic is blocked (adjust this for secure setups).</li> <li> <strong>Wait for 2 seconds:</strong> Adds a buffer to ensure system services are up.</li> <li> <strong>Source credentials:</strong> Reads the hotspot name (SSID) and password from hotspot_creds.cfg.</li> <li> <strong>Set up the hotspot:</strong> Uses nmcli to configure and start the hotspot.</li> </ul> <p>Save this script to <code class="language-plaintext highlighter-rouge">$WIFI_ADAP_ROOT_DIR/start_hotspot.sh</code> and make it executable:</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">chmod</span> +x <span class="nv">$WIFI_ADAP_ROOT_DIR</span>/start_hotspot.sh
</code></pre></div></div> <hr> <h3 id="step-2-create-a-credentials-file">Step 2: Create a Credentials File</h3> <p>Store your hotspot credentials in a secure configuration file:</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nano <span class="nv">$WIFI_ADAP_ROOT_DIR</span>/hotspot_creds.cfg
</code></pre></div></div> <p>Add the following content:</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">SSID</span><span class="o">=</span><span class="s2">"your_hotspot_name"</span>
<span class="nv">PASSWORD</span><span class="o">=</span><span class="s2">"your_secure_password"</span>
</code></pre></div></div> <p>Make sure the credentials file is readable only by the owner:</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">chmod </span>600 <span class="nv">$WIFI_ADAP_ROOT_DIR</span>/hotspot_creds.cfg
</code></pre></div></div> <p>🛡️ This keeps your credentials secure!</p> <hr> <h3 id="step-3-create-a-systemd-service">Step 3: Create a Systemd Service</h3> <p>To ensure the hotspot script runs on every boot, create a systemd service file:</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>nano /etc/systemd/system/start_hotspot.service
</code></pre></div></div> <p>Add the following content:</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>Unit]
<span class="nv">Description</span><span class="o">=</span>Start Hotspot Script on Boot
<span class="nv">After</span><span class="o">=</span>network.target

<span class="o">[</span>Service]
<span class="nv">Type</span><span class="o">=</span>oneshot
<span class="nv">ExecStart</span><span class="o">=</span>/bin/bash /home/fetch/wifi-adapter-settings/start_hotspot.sh
<span class="nv">RemainAfterExit</span><span class="o">=</span><span class="nb">yes</span>

<span class="o">[</span>Install]
<span class="nv">WantedBy</span><span class="o">=</span>multi-user.target
</code></pre></div></div> <p>Explanation of the Service File:</p> <ul> <li> <strong>After=network.target:</strong> Ensures the service starts after network services are ready.</li> <li> <strong>ExecStart:</strong> Runs the hotspot script. <em>NOTE:</em> Keep the absolute path of the script.</li> <li> <strong>RemainAfterExit:</strong> Keeps the service active after execution.</li> </ul> <p>Enable the service:</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>systemctl <span class="nb">enable </span>start_hotspot.service
</code></pre></div></div> <p>Test the service by starting it manually:</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>systemctl start start_hotspot.service
<span class="nb">sudo </span>systemctl status start_hotspot.service
</code></pre></div></div> <p>If successful, the hotspot should start without errors. 🚀✨</p> <hr> <h3 id="step-4-verify-hotspot-on-boot">Step 4: Verify Hotspot on Boot</h3> <p>To confirm the hotspot starts correctly after reboot:</p> <ul> <li>Reboot your system: <div class="language-shell highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>reboot
</code></pre></div> </div> </li> <li>Once the system boots up, check the hotspot status: <div class="language-shell highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>systemctl status start_hotspot.service
</code></pre></div> </div> </li> <li>You can also use the nmcli command to verify: <div class="language-shell highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>nmcli dev wifi
</code></pre></div> </div> </li> </ul> <p>✅ This ensures everything is working smoothly! 🌟</p> <hr> <h3 id="step-5-optional--add-status-check-to-bashrc">Step 5: Optional – Add Status Check to ~/.bashrc</h3> <p>For convenience, add a status check to your <code class="language-plaintext highlighter-rouge">~/.bashrc</code> file. This will display the hotspot’s status whenever you open a terminal:</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Check Hotspot Status, use absolute path</span>
<span class="nv">CREDS_FILE</span><span class="o">=</span>/home/fetch/wifi-adapter-settings/hotspot_creds.cfg
<span class="k">if</span> <span class="o">[</span> <span class="nt">-f</span> <span class="nv">$CREDS_FILE</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
    </span><span class="nb">source</span> <span class="nv">$CREDS_FILE</span>
    <span class="k">if </span>nmcli dev wifi | <span class="nb">grep</span> <span class="nt">-q</span> <span class="s2">"</span><span class="nv">$SSID</span><span class="s2">"</span><span class="p">;</span> <span class="k">then
        </span><span class="nv">ip_address</span><span class="o">=</span><span class="si">$(</span>ip addr show alpha_wifi_adap | <span class="nb">grep</span> <span class="s1">'inet '</span> | <span class="nb">awk</span> <span class="s1">'{print $2}'</span> | <span class="nb">cut</span> <span class="nt">-d</span>/ <span class="nt">-f1</span><span class="si">)</span>
        <span class="nb">echo</span> <span class="s2">"Hotspot '</span><span class="nv">$SSID</span><span class="s2">' is LIVE."</span>
        <span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"- IP: </span><span class="nv">$ip_address</span><span class="s2">
- Password: </span><span class="nv">$PASSWORD</span><span class="s2">"</span>
    <span class="k">else
        </span><span class="nb">echo</span> <span class="s2">"Hotspot '</span><span class="nv">$SSID</span><span class="s2">' is NOT ACTIVE."</span>
    <span class="k">fi
else
    </span><span class="nb">echo</span> <span class="s2">"Hotspot credentials file not found."</span>
<span class="k">fi</span>
</code></pre></div></div> <center> <div style="display: flex; align-items: center;"> <img src="/assets/blog/irvl-fetch-wifi-adapter-diy/alpha_adapter/step-5-out.png" alt="Step 5 Output" style="width: 45%; margin-right: 20px;"> <video class="demo-video" width="58%" height="auto" controls=""> <source src="../../../assets/blog/irvl-fetch-wifi-adapter-diy/alpha_adapter/connect-hololens2-to-robot-hotspot.mp4" type="video/mp4"></source> Your browser does not support the video tag. </video> </div> </center> <center> <b>Left:</b> Hotspot status after system boot.<br><b>Right:</b> A demo showcasing the HoloLens connecting to the created hotspot.</center> <p><br></p> <hr> <h3 id="troubleshooting">Troubleshooting</h3> <ul> <li> <strong>Error: Not authorized to control network:</strong> <ul> <li>Ensure the script is executed with root privileges.</li> </ul> </li> <li> <strong>Error: either ‘dev’ is duplicate or ‘iwlist’ is garbage:</strong> <ul> <li>Verify the hotspot interface name (alpha_wifi_adap).</li> <li>Double-check the hotspot script syntax.</li> </ul> </li> <li> <strong>Hotspot not starting on boot:</strong> <ul> <li>Check the service logs: <div class="language-shell highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>journalctl <span class="nt">-u</span> start_hotspot.service
</code></pre></div> </div> </li> </ul> </li> </ul> <p>🛠️ Be ready to debug as needed! 🧩</p> <hr> <p>Feel free to reach out in case you have a query. You are always welcome. You can find me on X at <a href="https://x.com/jis_padalunkal" target="_blank">@jis_padalunkal</a>.</p> <script>document.getElementByClass("demo-video").playbackRate=1.5;</script> </div> </article> </div> </div> <footer class="fixed-bottom"> <center> <div class="container mt-0"> © Copyright 2025 Jishnu Jaykumar Padalunkal. Theme: <a href="https://github.com/alshedivat/al-folio" target="_blank">Al-Folio</a>. Last updated: September 17, 2025. </div> </center> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js"></script> <script defer src="/assets/js/common.js"></script> <script defer src="/assets/js/copy_code.js" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-GDXDM8QC54"></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-GDXDM8QC54");</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>